<abp-page *abpPermission="'WorkShopManagement.CarModels'">
<app-topbar-layout titleKey="Menu:Variants" [(filters)]="filters" [list]="list">
 <div topbarLeft>
    <button type="button" class="btn btn-link p-0" (click)="goBack()" title="Back">
      <i class="fa fa-arrow-left"></i>
    </button>
  </div>
<div class="card">
  <div class="card-body">
    <ngx-datatable
      [rows]="carModels.items"
      [count]="carModels.totalCount"
      [list]="list"
      default
    >
      <!-- Name -->
      <ngx-datatable-column
        [name]="'::Name' | abpLocalization"
        prop="name"
      ></ngx-datatable-column>

      <ngx-datatable-column
        [sortable]="false"
        [name]="'::Image' | abpLocalization"
        prop=""
      >
      <ng-template let-row="row" ngx-datatable-cell-template>
        @if (row.fileAttachments.path) {
          <img [src]="row.fileAttachments.path" alt="car-model-image" class="img-fluid" style="max-height: 50px;">
        }
      </ng-template>
    </ngx-datatable-column>
   
      <!-- Add CheckList button -->
      <ngx-datatable-column
        [name]="'::Action' | abpLocalization"
        [sortable]="false"
        [maxWidth]="170"
        *abpPermission="'WorkShopManagement.CheckLists.Create'"
      >
        <ng-template let-row="row" ngx-datatable-cell-template>
          <button
            type="button"
            class="btn btn-outline-primary btn-sm"
            (click)="addCheckList(row.id)"
          >
            <i class="fa fa-list-check me-1"></i>
            {{ '::CheckList' | abpLocalization }}
          </button>
        </ng-template>
      </ngx-datatable-column>

    </ngx-datatable>
  </div>
</div>
</app-topbar-layout>
</abp-page>