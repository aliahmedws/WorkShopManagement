

<abp-page>
    <div>
        <button class="btn btn-md btn-primary" (click)="toggleView()">
            Toggle {{ !isClassicView ? 'Classic' : 'Modern' }} View
        </button>
    </div>
    @if(!isClassicView){
    <app-topbar-layout titleKey="Menu:ProductionManager" [(filters)]="filters" [list]="list">
        <nz-tabs [nzSelectedIndex]="selectedIndex" [nzDestroyInactiveTabPane]="true"
            (nzSelectedIndexChange)="onTabChange($event)" nzSize="large" style="margin-top: -15px;">

            <nz-tab [nzTitle]="'::Enum:Stage.1' | abpLocalization">
                <app-incoming [stages]="stages" [(filters)]="filters" [list]="list"></app-incoming>
            </nz-tab>

            <nz-tab [nzTitle]="'::Enum:Stage.2' | abpLocalization">
                <app-external-warehouse [stages]="stages" [(filters)]="filters" [list]="list"></app-external-warehouse>
            </nz-tab>

            <nz-tab [nzTitle]="'::Enum:Stage.3' | abpLocalization">
                <app-scd-warehouse [stages]="stages" [(filters)]="filters" [list]="list"></app-scd-warehouse>
            </nz-tab>

            <nz-tab [nzTitle]="'::Enum:Stage.4' | abpLocalization">

            </nz-tab>

            <nz-tab [nzTitle]="'::Enum:Stage.5' | abpLocalization">
                <app-post-production [stages]="stages" [filters]="filters" [list]="list"></app-post-production>
            </nz-tab>

            <nz-tab [nzTitle]="'::Enum:Stage.6' | abpLocalization">
                <app-awaiting-transport [stages]="stages" [(filters)]="filters" [list]="list"></app-awaiting-transport>
            </nz-tab>

            <nz-tab [nzTitle]="'::Enum:Stage.7' | abpLocalization">
                <app-dispatched [stages]="stages" [(filters)]="filters" [list]="list"></app-dispatched>
            </nz-tab>

        </nz-tabs>

        @if (selectedIndex === 3) {
        <div class="card">
            <app-production [filters]="filters"></app-production>
        </div>
        }
    


    </app-topbar-layout>
    } @else {
        <app-classic-view></app-classic-view>
    }
</abp-page>